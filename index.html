<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>JS Calculator</title>

        <script src="https://cdn.jsdelivr.net/npm/mathjs@14.8.1/lib/browser/math.min.js"></script>
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        
        <script>
            function addLog(msg) {
                var ul = document.getElementById("log");
                var li = document.createElement("li");
                var msg_text_node = document.createTextNode(msg);
                li.appendChild(msg_text_node);
                ul.appendChild(li);
            }

            /*
            function calculate() {
                var x = document.getElementById("expression").value;
                
                if (expression) {
                    try {
                    answer = eval(x);
                    document.getElementById("expression").value=answer;
                    addLog(x+" = "+answer)    
                    } catch(e) {
                        document.getElementById("expression").value="Bad Expression dude!";
                        addLog(x+" is bad, fix it first.")
                    }
                };
            }
                */
            
            function math_calc() {
                var x = document.getElementById("expression").value;
                
                /*
                console.log(x);
                console.log(eval(x));
                */

                if (expression) {
                    try {
                    answer = math.evaluate(x);
                    document.getElementById("expression").value=answer;
                    addLog(x+" = "+answer)
                    } catch(e) {
                        document.getElementById("expression").value="Bad Expression dude!";
                        addLog(x+" is bad, fix it first.")
                    }
                };
            }

        </script>

    </head>
    <body>

        <div  class="container">
            
            <div class="row">
                <div class="col"></div>

                <div class="col">
                    <input type="input" class="form-control" id="expression">
                    <button onclick="math_calc()" id="calculate" class="btn btn-primary">Calculate</button>

                    <h3>Log:</h3>
                    <ul id="log"></ul>
                </div>

                <div class="col"></div>

            </div>
        
        </div>

    </body>
</html>
